/*!  RD_TemplatePackage_3 2017-07-26 Build: 3.2.3.3 */
CDC=CDC||{},CDC.Mobile=CDC.Mobile||function(a,b,c,d,e){"use strict";var f={getModalBodyHeight:function(){return a(window).height()-105}},g=function(){var b="",c="",e='<div id="myModalID" class="hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-header"><span data-dismiss="modal"><span class="sprite-24-back"></span>BACK</span></div><div class="modal-body">',g="",h='</div><div class="modal-footer"></div></div>',i=a("div#contentArea table").filter(d.selectors.optIn),j=a("div#contentArea img").filter(d.selectors.optIn);i.length&&i.each(function(d){var i=a(this).closest('[class*="span"]'),j=[],k=0;i.length&&(j.push(i.attr("class").split(" ")),1===j[0].length?k=CDC.Global.variables.spans[j[0][0]].width:a.each(j[0],function(a){j[0][a].indexOf("span")>-1&&(k=CDC.Global.variables.spans[j[0][a]].width)})),a(this).attr("id")?c=a(this).attr("id"):(c="CDCTable_"+d,a(this).attr("id",c));var l="modalIdString_"+c;g=a("#"+c).clone().width(k).wrap("<div />").parent().html(),a("body").append(e.replace("myModalID",l)+g+h),b=a('<div class="hidden-three hidden-four"><a href="#'+l+'" role="button" class="btn modalButton"><img src="/TemplatePackage/3.0/images/table_icon.png" alt="table icon" /></a></div>'),a("#"+c).before(b),a(".modal-body").height(f.getModalBodyHeight()),a("html").on("viewport-updated",function(){a(".modal-body").height(f.getModalBodyHeight())})}),j.length&&(j.each(function(b){a(this).attr("id")?c=a(this).attr("id"):(c="CDCImage_"+b,a(this).attr("id",c));var d="modalIdString_"+c,f=a("#"+c).clone().wrap('<div class="modalImageWrapper hidden-three hidden-four"><a href="#'+d+'" class="modalAnchor" /></div>').parent().parent();a("#"+c).addClass("hidden-one hidden-two").before(f),g=a("#"+c).clone().wrap("<div />").parent().html(),a("body").append(e.replace("myModalID",d)+g+h)}),a(".modalAnchor img").after('<div><span class="sprite-24-resize"></span></div>'))},h=function(){a("#wrapper").show(),a("#footer").show(),a('[id*="modalIdString"]').hide(),a("body").removeClass("hideoverflow");var b=a('a[href="'+location.hash+'"]');if(b.length>0){var c=a(b).position().top;c&&a("html,body").animate({scrollTop:c},"fast")}},i=function(){a(".modalAnchor, .modalButton").on("click",function(){a("#wrapper").hide(),a("#footer").hide(),a(a(this).attr("href")).show(),a("body").addClass("hideoverflow"),f.modalbodyheight=a(window).height()-105}),a(".modal-header").on("click","button, span",function(){h()}),a("#footer").exists(function(){a(this).on("click","h6",function(){if(1===d.variables.viewPort){var b=a(this);b.next().toggleClass("hidden-one"),b.children("span").toggleClass("icon-angle-down icon-angle-up").toggleClass("icon-plus icon-minus")}})}),a("#mobile-menu").parent("a").hover(function(){a(this).css("text-decoration","none")}),a("html").on("viewport-tapped",function(b,c){0===a(c.target).parents("#mobile-menu").length&&a(".two #navmenu").hide()}),a("#mobile-menu").on("click",function(a){}),a("#vp1-menu-button").on("click",function(b){a(this).blur();var c=a(this),f=a("#navmenu"),g=a("nav#left:first"),h=a('<a href="#" class="back-btn visible-one"><span class="sprite-24-back"></span>'+e.getConstant("back")+"</a>"),i=a("html").hasClass("one");if(f.length||(f=a("<div></div>").attr("id","navmenu").css("display","none").appendTo(a("body")),g.length&&(g.clone(!0).appendTo(f),a("#navmenu nav#left").addClass("left-menu").removeClass("hidden-two hidden-one").css({display:"inherit",position:"relative",left:0,zIndex:9999,visibility:"visible"}))),!a(".back-btn").length&&i&&h.prependTo(f),i)f.css({position:"absolute",top:"65px",left:"100%",width:"100%",display:"block",background:"#fff",zIndex:"9999",overflow:"auto"}).animate({left:"0"},500,function(){a(d.selectors.elementsToHideUnderNav).hide(),a("#navmenu a.back-btn").focus()});else{var j="li"===c.prop("tagName").toLowerCase()?c.offset().top+c.outerHeight():c.parent().offset().top+c.parent().outerHeight(),k="li"===c.prop("tagName").toLowerCase()?c.offset().left-140+c.outerWidth():c.parent().offset().left-140+c.parent().outerWidth();f.css({position:"absolute",top:j,left:k,height:"auto",width:"50%"}).toggle(100,function(){a(d.selectors.elementsToHideUnderNav).toggle(),a("#navmenu a.back-btn").focus()})}}),CDC.Global.variables.viewPort>1&&a(".two #nav-primary").on("click",function(a){a.stopImmediatePropagation()}),a(document).on("click",".back-btn",function(){a("#navmenu").animate({left:"100%"},500,function(){a(this).hide()})}),a(document).on("keypress",".back-btn",function(){a("#navmenu").animate({left:"100%"},500,function(){a(this).hide(),a("#mobile-menu #menu-nav").focus()})}),a("#vp1-a2z-button").on("click",function(b){a(this).blur(),a(".a2z-bar").is(":visible")?a("#vp1-a2z-button").removeClass().addClass("border-bottom-white"):(a("#vp1-menu-button").removeClass().addClass("border-bottom-white"),a("#vp1-a2z-button").removeClass().addClass("border-bottom-cdcblue"),a("#vp1-search-button").removeClass().addClass("border-bottom-white")),a("#navmenu").hide(),a(".a2z-bar").toggle(),a(".searchbar").removeClass("hide").addClass("hide").hide()}),a("#vp1-search-button").on("click",function(b){a(this).blur(),a(".searchbar").is(":visible")?a("#vp1-search-button").removeClass().addClass("border-bottom-white"):(a("#vp1-menu-button").removeClass().addClass("border-bottom-white"),a("#vp1-a2z-button").removeClass().addClass("border-bottom-white"),a("#vp1-search-button").removeClass().addClass("border-bottom-cdcblue")),a("#navmenu").hide(),a(".a2z-bar").removeClass("hide").addClass("hide").hide(),a(".searchbar").toggle()})};return{init:function(b){log("mobile init"),b&&"object"==typeof b&&a.extend(f,b),g(),i()},resetModal:function(){h()}}}(jQuery,window,_,CDC.Global,CDC.Constants);